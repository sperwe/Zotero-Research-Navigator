# 📊 Zotero Research Navigator - 当前状态与使用指南

## 🎯 当前版本信息

- **版本**: v1.0.0 (commit: ca0ea15)
- **状态**: ✅ 可以成功导入 Zotero
- **SHA256**: `0206c5f4c961bf9e2f550e1d32e0fa8aa46caa7db4cc299a9c2478148c776cf7` (GitHub Actions 构建)

## 🚀 如何使用插件

### 1. 打开插件面板
插件安装成功后，有以下方式打开：

- **方式一**: 点击工具栏的 **🔍** 按钮
- **方式二**: 使用快捷键 `Ctrl+Shift+H` (暂未实现)
- **方式三**: 菜单栏 `视图` → `Research History Panel` (暂未实现)

### 2. 功能说明

#### 📊 历史记录追踪
- 自动记录您访问的文献、笔记和集合
- 按时间分组显示（今天、昨天、更早）
- 最多保存 100 条记录

#### 🔍 搜索功能
- 在面板顶部的搜索框输入关键词
- 实时过滤历史记录
- 支持标题模糊搜索

#### 🎨 界面操作
- **点击项目名称**: 打开对应的文献/笔记/集合
- **清除历史**: 点击"清除历史"按钮清空所有记录
- **关闭面板**: 点击右上角 × 按钮

## ⚠️ 当前版本的限制

1. **界面简单**: 目前只是基础的列表显示，还不是真正的树状结构
2. **功能有限**: 
   - 没有展开/折叠功能
   - 没有父子关系追踪
   - 没有卡片式预览
3. **快捷键未实现**: `Ctrl+Shift+H` 暂时无效
4. **菜单项未添加**: 视图菜单中没有相应选项

## 🔧 技术细节

### 插件初始化流程
1. `bootstrap.js` 加载并等待 Zotero 初始化
2. 加载 `index.js` (编译后的 `simple-index.js`)
3. 创建 `SimpleResearchNavigator` 实例
4. 注册 Zotero.Notifier 监听器
5. 创建工具栏按钮
6. 初始化 UI 面板

### 数据存储
- 使用 `Zotero.Prefs` 存储历史记录
- 键名: `extensions.zotero.researchnavigator.accessHistory`
- 格式: JSON 数组

## 🎯 下一步开发方向

基于您的需求"**更喜欢树状历史**"，需要实现：

1. **真正的树状结构显示**
   - 显示访问路径的父子关系
   - 可展开/折叠的树形节点
   - 视觉上的层级缩进

2. **增强的交互功能**
   - 右键菜单
   - 拖拽操作
   - 批量操作

3. **卡片式预览**
   - 悬停显示详细信息
   - 快速预览内容
   - 更美观的界面

## 📝 总结

当前版本是一个功能基础但可工作的插件。主要功能是历史记录追踪和简单的搜索。界面比较简陋，还没有实现真正的"树状"显示。

**建议**: 在这个稳定版本的基础上，逐步添加树状显示功能，而不是重写整个插件。