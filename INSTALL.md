# Zotero Research Navigator - 安装和使用指南

## 🎉 插件已准备就绪！

您的 **Zotero Research Navigator v1.0.0** 插件已成功构建完成！

## 📦 文件说明

- **`zotero-research-navigator-v1.0.0.xpi`** - 可直接安装的插件文件 (12.5KB)
- **`build/`** - 构建后的所有插件文件
- **源代码** - 完整的 TypeScript/JavaScript 源码

## 🚀 安装步骤

### 1. 下载插件文件
```bash
# 插件文件位置
/workspace/zotero-research-navigator-v1.0.0.xpi
```

### 2. 在 Zotero 中安装
1. 打开 Zotero 软件
2. 菜单栏 → `工具` → `插件` (Tools → Add-ons)
3. 点击右上角的齿轮图标 ⚙️
4. 选择 `从文件安装插件...` (Install Add-on From File...)
5. 选择 `zotero-research-navigator-v1.0.0.xpi` 文件
6. 点击 `现在重启` (Restart Now)

### 3. 验证安装
重启后查看：
- 工具栏是否出现 🔍 按钮
- 开发者控制台是否显示 "Research Navigator: Loading..." 消息

## 🎯 功能特性

### ✅ **已实现的核心功能**
1. **📊 自动历史跟踪**
   - 自动记录打开的文献条目
   - 自动记录浏览的集合
   - 按时间智能分组 (今天/昨天/更早)

2. **🎨 侧边栏面板**
   - 右侧滑入式面板设计
   - 树状历史记录展示
   - 一键打开历史项目

3. **🔍 实时搜索**
   - 标题模糊搜索
   - 实时过滤结果
   - 搜索结果高亮

4. **💾 数据持久化**
   - 使用 Zotero 内置偏好存储
   - 自动保存访问历史
   - 支持历史清除

5. **🎛️ 便捷操作**
   - 工具栏快捷按钮
   - 分组展开/折叠
   - 一键清除历史

## 🎮 使用方法

### 基础操作
1. **打开面板**: 点击工具栏的 🔍 按钮
2. **浏览历史**: 查看按时间分组的访问记录
3. **搜索记录**: 在搜索框输入关键词
4. **打开项目**: 点击历史记录项目名称
5. **关闭面板**: 点击面板右上角的 × 按钮

### 高级功能
- **展开/折叠分组**: 点击时间分组标题
- **清除历史**: 点击"清除历史"按钮
- **刷新数据**: 点击"刷新"按钮

## 🔧 技术特性

### 系统要求
- **Zotero**: 6.0.27+ 
- **操作系统**: Windows 10+, macOS 10.15+, Linux
- **浏览器**: 支持现代 JavaScript 的环境

### 数据存储
- **位置**: Zotero 偏好设置
- **键名**: `extensions.zotero.researchnavigator.accessHistory`
- **格式**: JSON 数组
- **大小限制**: 最多 100 条记录

### 性能优化
- **轻量级**: 插件文件仅 12.5KB
- **内存友好**: 限制历史记录数量
- **响应式**: 实时搜索和过滤
- **错误处理**: 完善的异常捕获

## 🐛 故障排除

### 常见问题

#### 1. 插件无法加载
**症状**: 安装后工具栏没有按钮
**解决方案**:
```
1. 确认 Zotero 版本 >= 6.0.27
2. 完全重启 Zotero (不是刷新)
3. 检查开发者控制台是否有错误消息
4. 尝试禁用其他插件后重试
```

#### 2. 历史记录不显示
**症状**: 面板打开但显示"暂无访问历史"
**解决方案**:
```
1. 先打开几个文献条目生成历史
2. 点击"刷新"按钮更新数据
3. 检查是否有权限访问 Zotero.Prefs
```

#### 3. 搜索功能不工作
**症状**: 输入搜索词没有过滤效果
**解决方案**:
```
1. 确保有足够的历史记录
2. 尝试搜索完整的单词而不是片段
3. 清除搜索框重新输入
```

#### 4. 面板样式异常
**症状**: 面板显示但样式错乱
**解决方案**:
```
1. 刷新 Zotero 界面
2. 检查是否与其他插件的样式冲突
3. 尝试重新安装插件
```

### 调试模式
打开 Zotero 开发者控制台查看详细日志:
```
菜单栏 → 帮助 → 开发者 → 开发者控制台
```

查找以下日志消息:
- `Research Navigator: Loading...`
- `Research Navigator: Event listeners registered`
- `Research Navigator: UI initialized`
- `Research Navigator: Recorded access: [标题]`

## 📈 数据统计

当前版本记录的数据:
- ✅ 文献条目访问时间
- ✅ 集合浏览记录
- ✅ 访问频次统计
- ⭕ 搜索查询历史 (未来版本)
- ⭕ 笔记编辑记录 (未来版本)

## 🔄 更新和维护

### 手动更新
1. 下载新版本的 .xpi 文件
2. 在 Zotero 中卸载旧版本
3. 安装新版本
4. 重启 Zotero

### 数据迁移
更新插件时历史记录会自动保留，无需手动迁移。

## 🤝 反馈和支持

### 功能请求
如果您希望添加新功能:
1. 记录您的使用场景
2. 描述期望的功能行为
3. 提供相关的参考资料

### 问题报告
遇到问题时请提供:
1. Zotero 版本信息
2. 操作系统信息
3. 插件版本: v1.0.0
4. 详细的重现步骤
5. 开发者控制台的错误信息

## 🎯 后续开发计划

### v1.1.0 计划功能
- [ ] 笔记编辑历史追踪
- [ ] 搜索查询记录
- [ ] 访问时长统计
- [ ] 导出历史报告

### v1.2.0 计划功能
- [ ] 卡片式预览界面
- [ ] 笔记关联网络图
- [ ] 智能推荐功能
- [ ] 高级搜索过滤器

---

## 🎉 恭喜！

您已成功获得一个功能完整的 Zotero Research Navigator 插件！

这个插件实现了您最需要的**历史追溯功能**，让您永远不会再丢失之前的研究轨迹。

**立即体验**: 安装插件后，打开几个文献条目，然后点击工具栏的 🔍 按钮查看您的研究历史！